!function(a){"use strict";function b(){function a(a){for(var b=0,c=0;c<q.length;c++)b+=a(q[c]);return b}function c(a){for(var c=[],d=0;d<q.length;d++)c.push(a(q[d]));return new b(c)}function d(a){for(var c=[],d=0;d<q.length;d++){var e=a(q[d]);if(e.length)for(var f=0;f<e.length;f++)c.push(e[f])}return new b(c)}function e(a){for(var b=0;b<q.length;b++)if(q[b]===a)return!0;return!1}function f(a){for(var b=!0,c=0;c<q.length;c++)b=b&&a(q[c]);return b}function g(a){if(void 0===a)return q.length>0;for(var b=0;b<q.length;b++)if(a(q[b]))return!0;return!1}function h(a){for(var c=[],d=0;d<q.length;d++)a(q[d])&&c.push(q[d]);return new b(c)}function i(a){if(null===a||void 0===a)return q.length>0?q[0]:null;var b=q.where(a);return b.length>0?b[0]:null}function j(a){if(null===a||void 0===a)return q.length>0?q[q.length-1]:null;var b=q.where(a);return b.length>0?b[b.length-1]:null}function k(){function a(a){return function(b){p(b,q[a])}}var c=new b([]);if(q.any()&&q.all(function(a){return null===a||void 0===a}))return[null];for(var d=0;d<q.length;d++){var e=c.first(a(d));null===e&&c.push(q[d])}return c}function l(a){function c(b){return function(c){return p(c.key,a(q[b]))}}for(var d=new b([]),e=0;e<q.length;e++){var f=d.first(c(e));null===f&&(f=new b([]),f.key=a(q[e]),d.push(f)),f.push(q[e])}return d}function m(a){if(0===q.length)return"undefined";for(var b=0;b<q.length;b++){var c=typeof a(q[b]);if("number"==c)return"number";if("string"==c)return"string";if("boolean"==c)return"boolean";if(a(q[b])instanceof Date)return"Date"}return"undefined"}function n(a){if(0===q.length)return new b([]);var c,d=m(a);return c="number"==d?q.sort(function(b,c){return a(b)-a(c)}):"string"==d?q.sort(function(b,c){var d=a(b)||"",e=a(c)||"";return e>d?-1:d>e?1:0}):"boolean"==d?q.sort(function(b,c){return a(b)==a(c)?1:-1}):"Date"==d?q.sort(function(b,c){return(a(b)||new Date(0)).getTime()-(a(c)||new Date(0)).getTime()}):q,new b(c)}function o(a){if(0===q.length)return new b([]);var c,d=m(a);return c="number"==d?q.sort(function(b,c){return a(c)-a(b)}):"string"==d?q.sort(function(b,c){var d=a(c)||"",e=a(b)||"";return e>d?-1:d>e?1:0}):"boolean"==d?q.sort(function(b,c){return a(c)==a(b)?-1:1}):"Date"==d?q.sort(function(b,c){return(a(c)||new Date(0)).getTime()-(a(b)||new Date(0)).getTime()}):q,new b(c)}function p(a,b){if(a instanceof Date&&b instanceof Date)return a.getTime()==b.getTime();if(a instanceof Date!=b instanceof Date)return!1;if(typeof a!=typeof b)return!1;if("number"==typeof a||"string"==typeof a)return a===b;if("undefined"==typeof a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}for(var q=this,r=0;r<arguments.length;r++)arguments[r]instanceof Array?q.push.apply(q,arguments[r]):q.push(arguments[r]);q.sum=a,q.select=c,q.selectMany=d,q.contains=e,q.all=f,q.any=g,q.where=h,q.first=i,q.last=j,q.distinct=k,q.groupBy=l,q.orderBy=n,q.orderByDescending=o}function c(a){function b(){}return b.prototype=a,new b}function d(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}var e;b.prototype=c(Array.prototype),e=function(){return d(b,arguments)},"undefined"!=typeof module&&module.exports?module.exports=e:a.va=e}(this);